
### 고가용성, 확장성, 탄력성

1. 확장성과 고가용성의 개념

	확장성은 고가용성과 연결되지만 둘은 다르다.

	1. 확장성
		- 더 큰 부하를 처리할 수 있다는 의미
		- 클라우드에서 확장성에는 두 종류가 있다.
			- 수직 확장성
				- AWS에서 수직 확장성이란 인스턴스의 크기를 증가 할 수 있다는 의미이다. ex) t2.micro 인스턴스에서 t2.large 인스턴스로 확장
				- ex) 콜센터에서 신입 상담원이 전화를 받을 때 수직 확장 한다는 의미는 전문 상담원을 데려오는 것 → 전문 상담원이 신입 상담원보다 더 많은 전화를 처리할 수 있다.
				- 데이터베이스와 같이 분산되지 않은 시스템에서 사용된다.
				- 수직 확장에 한계가 존재한다.
					- 하드웨어의 한계가 존재하기 때문
			- 수평 확장성(탄력성)
				- AWS에서 수평 확장성이란 인스턴스의 크기를 늘리는 대신 인스턴스 또는 시스템의 숫자를 늘린다는 의미 ex) t2.micro 한개를 t2.micro 여러개로 증가
				- ex) 콜센터에서 신입 상담원이 전화를 받을 때 수평 확장 한다는 의미는 상담원을 추가하는것 → 한명보다는 여러명이 더 많은 전화를 처리할 수 있다.
				- 분산된 시스템에서 사용된다.
				- 웹 어플리케이션이나 현대적인 어플리케이션은 수평 확장성을 염두에 두고 설계해야 한다.
				- AWS 수평 확장하기는 매우 간단하다(EC2 인스턴스와 오토 스케일링 그룹 덕분)
	2. 고가용성
		- AWS에서 고가용성이란 애플리케이션이나 시스템을 가용 영역(AZ) 최소 두 군데에서 실행하는 것을 의미한다.
		- ex) 뉴욕의 콜센터 사무실과 샌프란시스코의 콜센터 사무실 두개가 있을 때 모종의 이유로 한 콜센터가 중지되어도 다른 사무실에서 전화를 처리 할 수 있다.
		- 데이터 센터의 손실과 같은 재앙 상황에서 살아남는 것이 목적이다.
	1. 확장성 VS  고가용성 VS 민첩성 (시험대비)
		- 확장성
			- 하드웨어를 더 강하게 하거나 스케일업(확장)하거나, 노드를 추가해 스케일 아웃(축소)하여 시스템이 더 큰 부하를 수용 할 수 있게 하는것
		- 고가용성
			- 시스템이 확장 가능하다(스케일 업 or 스케일 아웃)
			- 오토 스케일링을 의미한다.(수신하는 로드에 따라 시스템이 자동으로 확장하는 것)
			- 사용량에 따라 비용을 지불하며 수신하는 수요를 서버의 숫자와 일치시키고 적절한 금액을 지불한다.(비용 최적화)
		- 민첩성
			- 확장성과 고가용성과 아무 상관없는 단어로 혼동을 주기위해 시험에 출제함

### Elastic Load Balancing(ELB) 개요

1. 로드밸런싱이란?
	1. 로드밸런서
		- 로드밸런서란 인터넷 트래픽을 다운스트림에 있는 여러 서버(EC2 인스턴스)로 전달한다.
		- 사용자에게 공개적으로 노출된다(IP, 포트 등)
		- 다이어그램

			![Untitled.png](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/63b3623b-2c60-4822-9134-33fe6c4d1b14/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20230907%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20230907T133612Z&X-Amz-Expires=3600&X-Amz-Signature=fc1070d0c8fe89a94705e7e4e890b19a395774073816b6e43e0dee847525637e&X-Amz-SignedHeaders=host&x-id=GetObject)

	2. 로드밸런서 사용 이유
		- 로드를 여러 다운스트림 인스턴스에 분산할 수 있다.
		- 애플리케이션에 대한 단일 액세스 지점, DNS 호스트 이름(일반적인 EC2인스턴스는 서버 종료 및 정지 시 public ip가 변경되기 때문)을 노출할 수 있다.
		- 다운스트림 인스턴스의 실패를 원할하게 처리할 수 있다.
		- 정기적인 다운스트림 인스턴스의 상태 체크
			- 인스턴스 중 하나에 연결이 실패하면 로드밸런서는 트래픽을 해당 인스턴스에 보내지 않는다.
			- 사용자에게 인스턴스의 오류 상태를 노출시키지 않는다(실패를 숨길 수 있다)
		- SSL을 제공한다. 즉, 웹사이트를 위해 HTTPS를 쉽게 제공할 수 있다.
		- 여러 가용 영역에 걸쳐 로드밸런서를 이용할 수 있어 가용성이 높다
1. ELB(Elastic Load Balancer)
	- 관리형 로드밸런서(Managed Load Balancer)이다.
	- 사용자가 직접 서버를 프로비저닝 하지않고 AWS가 자동으로 프로비저닝한다.
		- AWS는 로드밸런서가 잘 동작할 것을 보장한다.
		- AWS가 ELB의 모든 업그레이드, 유지보수, 고가용성 등을 관리한다.
		- 사용자는 로드 밸런서가 역할을 하도록 몇 가지 구성 사항만 작성하면 된다.
	- EC2인스턴스 에서 로드밸런서를 자체적으로 설정할 수 있다.
		- ELB보다 비용이 매우 저렴하다.
		- 유지보수, 통합, 운영 체제 업그레이드, 관리 등에 훨씬 큰 노력이 필요하다
	- AWS에서는 3종류의 로드 밸런서를 제공한다.
		- 애플리케이션 로드 밸런서
			- HTTP와 HTTPS 전용이다.
			- OSI 7 Layer 계층에서 7계층인 애플리케이션 계층에서 동작한다.
		- 네트워크 로드 밸런서
			- 초고성능과 TCP를 지원한다.
			- OSI 7 Layer 계층에서 4계층인 네트워크 계층에서 동작한다.
			- 게임서버와 같이 초당 수백만 건의 요청을 처리할 때 유용하다.
		- 클래식 로드 밸런서
			- AWS가 예전에 제공하던 것으로 OSI 7 Layer 계층에서 4계층과 7계층을 동시에 제공한다.
		- 로드밸런서 간 비교 다이어그램

			![Untitled.png](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/6d4b5609-65b8-485e-8077-1a2311c24786/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20230907%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20230907T133618Z&X-Amz-Expires=3600&X-Amz-Signature=2fbee43f19c87ff14b00ef1c8e33228a734f0812508599c694ebb4f23266574a&X-Amz-SignedHeaders=host&x-id=GetObject)

